### App.vue   

template标签内容展示

```vue
<template>
  <div class="app-container">
    <my-header :header="[textBcColor,textColor,textTitle]"></my-header>
    <my-goods :goods="list" @setCount="setCount" @clickSl="tfSl"></my-goods>
    <my-footer :goods="list" @clickAll="tfAll" @closeAll="closeAll"></my-footer>
  </div>
</template>
```

##### 步骤：

1. 在App.vue里面的data（）里面添加了新的数据

   ```vue
   data() {
       return {
         list: [],
         goods_count:-1,
         goods_id:-1,
         goods_img:'',
         goods_name:'',
         goods_price:-1,
         goods_state:'true',
         textTitle:'购物车demo',
         textBcColor:'skyblue',
         textColor:'black' // 商品所有数据
       };
     },
   ```

2. 在methods里面新加了方法

   ```vue
    methods:{
       /**
        * 
        * @param {*} getcount
        * 监听 my-goods组件，用来修改商品的数量
        */
       setCount(getcount){
         for(let i=0;i<this.list.length;i++){
           if(this.list[i].goods_id==getcount.id)
           this.list[i].goods_count=getcount.count
         }
       },
       /**
        * 
        * @param {*} tf
        * 用来监听my-footer组件，主要是修改所有商品的goods_state属性的布尔值 
        */
       tfAll(tf){
         for(let i=0;i<this.list.length;i++){
           this.list[i].goods_state=tf
         }
         console.log(this.list);
       },
       /**
        * 
        * @param {*} item
        * 用来监听my-goods组件，当用户勾选或取消单个物品标签使修改这个物品当前的goods_state属性。 
        */
       tfSl(item){
         for(let i=0;i<this.list.length;i++){
           if(this.list[i].goods_id==item.id)
           this.list[i].goods_state=item.tf
         }
       },
       /**
        * 
        * @param {*} tf
        * 监听my0-footer组件，当用户结算的时候，清空购物车已经勾选的物品 
        */
       closeAll(tf){
         for(let i=0;i<this.list.length;){
           if(this.list[i].goods_state==true)
           this.list.splice(i,1)
           else i++
         }
       }
     },
   ```

   

### MyHeader.vue

##### 步骤：

1. 通过由父组件App.vue传来的值，通过==v-model和v-bind==来进行动态绑定标题，文字颜色，背景颜色

   ```vue
   <template>
     <div class="my-header" :style="{backgroundColor: header[0],color:header[1]}" >{{header[2]}}</div>
   </template>
   ```

2. 接收的props里面的属性

   ```vue
   <script>
   export default {
     props:{
       header:{
         type:Array,
         required:true
       }
     }
   };
   </script>
   ```



### MyGoods.vue

##### 步骤：

1. 接收App.vue传来的整个对象数组参数list

2. 在整个大的 ==<div>==  盒子里面再加一个盒子，用==v-if==判断，当传来的数组长度为零的时候，显示购物车没有物品了的字样

3. 把获得的对象数组通过==v-for==进行迭代遍历，将信息展示出来。对于标签类的文字使用==v-model==进行动态绑定

4. 在迭代中添加一个新的子组件MyCount，并且传递当前物品的数量和Id的数组。

   ```vue
    <MyCount :count="[item.goods_count, item.goods_id]" @setCount="handleSetCount"></MyCount>
   ```

5. 监听子组件Mycount传来的handleSetCount这个函数，里面的参数有一个物品的信息和一个物品的id。并将这个继续传递给App.vue组件

   ```vue
   handleSetCount(getcount) {
         this.$emit("setCount", getcount);
       },
   ```

6. 对于物品的勾选，也加了一个点击事件，修改当前物品的状态值

   ```vue
   clickSl(item) {
         if (item.goods_state) {
           this.checkeData.tf = false;
         } else {
           this.checkeData.tf = true;
         }
         this.checkeData.id = item.goods_id;
         this.$emit("clickSl", this.checkeData);
       },
   ```





### Mycount.vue

##### 步骤：

1. 接收MyGoods.vue传来的数组，并且让这个数组里的第一个值设置为必须得且为数字类型

   ```vue
   props: {
       count: {
         type: Array,
         required: true,
         validator: (value) => {
           return value.length > 0 && typeof value[0] == "number";
         },
       },
     },
   ```

2. 去掉==input标签数字类型==的自带的修改数字类型给隐藏不适用，添加了新的==css语法==

   ```css
   input::-webkit-outer-spin-button,
   input::-webkit-inner-spin-button {
     -webkit-appearance: none;
     appearance: none;
     margin: 0;
   }
   ```

3. 给=="+","-"==绑定点击事件，点击后将修改的数据传递给父组件

   ```javascript
   methods: {
       setDown(count) {
         if (count > 0) {
           this.getcount.count--;
           return this.$emit("setCount", this.getcount);
         }
       },
       setUp() {
         this.getcount.count++;
         return this.$emit("setCount", this.getcount);
       },
     },
   ```



### MyFooter

##### 步骤：

1. 接收App.vue组件传来的对象数组

2. 给==“全选”标签==绑定点击事件，点击后改变所有的物品的状态值为==true或false==

   ```javascript
   clickAll() {
         if(this.tf)
         this.tf=false
         else this.tf=true
         console.log(this.tf);
         return this.$emit("clickAll", this.tf);
       },
   ```

3. 通过==computed==计算属性来计算所有的已经勾选的所有物品的总价值

   ```JavaScript
   allPrice() {
         let sum=0
         for(let i=0;i<this.goods.length;i++){
           if(this.goods[i].goods_state==true)
           sum+=this.goods[i].goods_count*this.goods[i].goods_price
         }
         return sum
       },
   ```



### 小组人员：

喻麒麟：计算机科学与技术

王鹏：计算机科学与技术

苏星羽：数字媒体技术

